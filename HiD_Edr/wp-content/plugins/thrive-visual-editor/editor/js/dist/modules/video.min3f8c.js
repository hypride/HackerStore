!function(){var t={33726:function(t){!function(e){let o,a={},i=!1;function n(t,e){const o=e?t.parents(".safari-ios-decoration-fix"):t.parents(".safari-ios-decoration-fix-none");t.toggleClass("tcb-no-perspective",e),o.toggleClass("safari-ios-decoration-fix",!e).toggleClass("safari-ios-decoration-fix-none",e)}a.init=function(){o=a.videoScrolled.bind(this),document.addEventListener("scroll",o),e(".tcb-float-close-button").each(((t,e)=>{e.addEventListener("click",a.closeFloatVideo.bind(this,e),!1)}))},a.destroyFloating=function(){document.removeEventListener("scroll",o),e(".tcb-float-close-button").each(((t,e)=>{e.removeEventListener("click",a.closeFloatVideo.bind(this,e))}))},a.closeFloatVideo=function(t){e(t).parent(".tcb-video-float-container").addClass("tcb-float-closed"),a.videoScrolled()},a.videoScrolled=function(){e('.thrv_responsive_video[data-float="true"] .tcb-video-float-container iframe, .thrv_responsive_video[data-float="true"] .tcb-video-float-container video, .thrv_responsive_video[data-float="true"] .tcb-video-float-container .tve_responsive_video-no_video').each(((t,o)=>{let a=e(o),s=a.parents(".tcb-video-float-container"),r=a.parents(".thrv_responsive_video");const d=r.attr("data-float-position"),c=r.find(".video_overlay_image").attr("style")||"";let l=TCB_Front.getDisplayType()[0],u=parseInt(e("#wpadminbar").height());if(s.hasClass("tcb-float-closed")||!function(t){const e="true"===t.attr("data-float"),o=t.attr("data-float-visibility"),a=TCB_Front.getDisplayType();return!(t.parents(".tcb-post-list").length||(!e||o)&&-1!==o.indexOf(a))}(r)||TCB_Front.isInViewport(a.parents(".thrv_responsive_video"),parseInt(a.width))){if(s.removeClass(d).css({width:"",height:"","margin-top":""}).parents(".tcb-col,.thrv-content-box,.thrv-page-section,#content,.theme-section").css("z-index",""),r.find(".video_overlay_image").removeClass(d).css({cssText:c,height:"",width:""}),!i){let t=r.position().left,e={left:t,right:t+r.width()};d.includes("top")||d.includes("keep")?(e.top=-parseInt(r.attr(`data-float-width-${l}`)),s.css(e)):d.includes("bottom")&&(e.bottom=parseInt(TCB_Front.Utils.windowWidth()),s.css(e)),r.find(".video_overlay_image").css({top:"",left:"",bottom:"",right:"","margin-top":""}),i=!0}n(r,!1)}else{void 0===r.attr(`data-float-width-${l}`)&&("m"===l&&(r.attr("data-float-width-m",TCB_Front.$window.width()+"px;"),r.attr("data-float-padding1-m",0),r.attr("data-float-padding2-m",0),u=0),"t"===l&&(l="d"));const t="height: "+function(t){const e=parseFloat(t.height()/t.width()).toFixed(2),o=TCB_Front.getDisplayType()[0],a=t.attr(`data-float-width-${o}`)||t.attr("data-float-width-d"),i=parseInt(a)*e;return a.includes("px")?i+"px":i*TCB_Front.$body.width()/100+"px"}(r)+" !important;",e="width: "+r.attr(`data-float-width-${l}`)+" !important;";let o="";if(d.includes("keep-original")){let t=r.attr(`data-float-padding1-${l}`);TCB_Front.Utils.hasAdminBar()&&u&&(o+=`margin-top: ${u}px;`),o+=`top: ${t} !important; `}else d.split("-").forEach(((t,e)=>{let a=r.attr(`data-float-padding${e+1}-${l}`);TCB_Front.Utils.hasAdminBar()&&t.includes("top")&&u&&(o+=`margin-top: ${u}px;`),o+=`${t}: ${a} !important; `}));d&&(s.addClass(d).css({cssText:e+t+o}).parents(".tcb-col,.thrv-content-box,.thrv-page-section,#content,.theme-section").css("z-index",(TCB_Front.highestZIndex||0)+10),a.css("height",""),r.find("video").length&&function(t){t.find("video").css({"object-fit":"cover",height:"100%"})}(r),r.find(".video_overlay_image").addClass(d).css({cssText:c+e+t+"z-index:100000 !important; top:inherit; left:inherit; bottom:inherit; right: inherit; margin-top: inherit;"}),n(r,!0),i=!1)}}))},a.restoreFloatingVideos=function(){e(".thrv_responsive_video").each(((t,o)=>{const a=e(o),i=a.find(".tcb-video-float-container"),n=a.attr("data-float-position"),s=a.find(".video_overlay_image").attr("style")||"";i.removeClass(n).css({width:"",height:""}),a.find(".video_overlay_image").removeClass(n).css({cssText:s,height:"",width:"",top:"",left:"",bottom:"",right:"","margin-top":""})}))},t.exports=a}(ThriveGlobal.$j)},98071:function(t,e,o){(e=>{const a='.tcb-video-cover:not([data-preload="1"]) .tcb-video-cover-image',i=o(20041),n=o(48042),s=[];t.exports=class t{static initVideoLazyLoad(o){const i=o.find(".thrv_responsive_video.tcb-lazy-load");0!==i.length&&(TCB_Front.add_scroll_callback((o=>{o>0&&i.each(((o,i)=>{const n=e(i);if(t.hasVideoCover(n)){const e=n.find(a);e.length>0&&t.lazyLoadThumbnail(e)}else t.lazyLoadVideo(n,"external"===i.dataset.type)}))})),i.each(((o,a)=>{const i=e(a);i.off("click.lazyLoad").on("pointerover",(()=>t.preconnectAssets(i))).on("click.lazyLoad",(()=>t.lazyLoadVideo(i,"external"===a.dataset.type,!0)))})))}static preventIframeLoad(o,a,i){const n=e(a).closest(".thrv_responsive_video");return i&&!TCB_Front.Utils.isEditorPage()&&t.shouldLazyLoad(n)&&(o=!0),o}static shouldLazyLoad(e){return e.hasClass("tcb-lazy-load")&&(t.hasVideoCover(e)||!TCB_Front.isInViewport(e,-150)||t.isInsideScreenFiller(e))}static isInsideScreenFiller(t){return"hidden"===t.closest(".tve-leads-screen-filler").css("visibility")}static hasVideoCover(t){return t.find(".video_overlay_image, .tcb-video-cover").length>0}static lazyLoadVideo(o){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=o.find(a?"source":"iframe"),s=n.attr("src");if(n.hasClass("tcb-video-lazy-loaded")||s&&s.length>0||!o.is(":visible")||t.isInsideScreenFiller(n)||!TCB_Front.isInViewport(o,-150)&&!i)return;n.hasClass("vooplayer")&&!TCB_Front.vooplayerScriptsLoaded&&(e.getScript("../s3.spotlightr.com/assets/vooplayer.js"),TCB_Front.vooplayerScriptsLoaded=1);let r=n.attr("data-src");r&&"null"!==r&&(r=TCB_Front.Hooks.applyFilters("tcb.video.lazy_load.html",r,o),n.attr("src",r),a&&n.closest("video")[0].load()),n.removeAttr("data-src").addClass("tcb-dr-done tcb-video-lazy-loaded")}static lazyLoadThumbnails(o){o.find(a).each(((o,a)=>{const i=e(a);i.closest(".tcb-lazy-load").length>0&&t.lazyLoadThumbnail(i)}))}static lazyLoadThumbnail(t){if(!TCB_Front.Utils.isEditorPage()&&(t.hasClass("tcb-src-loaded")||!t.is(":visible")||!TCB_Front.isInViewport(t.closest(".thrv_responsive_video"),-250)))return;const e=t.attr("data-src");e&&"null"!==e&&t.attr("src",e),t.removeAttr("data-src"),TCB_Front.Utils.isEditorPage()||t.addClass("tcb-src-loaded")}static preconnectAssets(e){const o=e.attr("data-type");if(s.includes(o))return;let a=[];switch(o){case"youtube":a=i.getAssetsToPreconnect();break;case"vimeo":a=t.getVimeoAssetsToPreconnect();break;case"wistia":a=t.getWistiaAssetsToPreconnect();break;case"external":const o=e.find("source").attr("data-src");void 0!==o&&(a=[new URL(o.html).origin]);break;case"vooplayer":a=n.getAssetsToPreconnect()}a.forEach((e=>t.addPreconnectLink(e))),s.push(o)}static addPreconnectLink(t){const e=document.createElement("link");e.rel="preconnect",e.href=t,document.head.append(e)}static getVimeoAssetsToPreconnect(){return["https://f.vimeocdn.com","https://player.vimeo.com/","https://i.vimeocdn.com"]}static getWistiaAssetsToPreconnect(){return["https://fast.wistia.net"]}}})(ThriveGlobal.$j)},82215:function(t,e,o){t.exports=(t,e)=>{const a=o(60232),i=o(20041),n=o(48042),s=o(98071);class r{static init(){r.initHooks()}static get identifier(){return".thrv_responsive_video"}static initHooks(){t(e).on("tcb_after_dom_ready",(()=>r.onDOMReady())).on("tcb_after_lightbox_open",((e,o)=>{t(o).find(`${r.identifier}:not([data-type="dynamic"])`).each(((e,o)=>r.autoplayVideo(t(o))))})).on("tcb_before_lightbox_close",((e,o)=>r.pauseVideos(t(o)))).on("tcb_on_content_hide",((e,o)=>r.pauseVideos(t(o)))).on("tve-content-revealed",((e,o)=>r.maybeAutoplayVideo(t(o)))).on("tcb_toggle_open",((e,o)=>r.maybeAutoplayVideo(t(o)))).on("tcb_toggle_close",((e,o)=>r.pauseVideos(t(o)))).on("tcb_on_content_show",((e,o)=>r.maybeAutoplayVideo(t(o)))).on("tve_after_content_toggle",((t,e,o)=>{o&&s.lazyLoadThumbnails(e)})),TCB_Front.Hooks.addFilter("tcb.is_iframe_load_prevented",s.preventIframeLoad)}static onDOMReady(){const e=t("body");r.pauseVideos(t(".tve_p_lb_content")),r.pauseVideos(t(`${r.identifier}:hidden`)),i.initHooks(),TCB_Front.Utils.isEditorPage()||(r.maybeAutoplayVideo(e),s.initVideoLazyLoad(e),r.initOnClickEvent()),i.playBackgroundYoutube(t("div.tcb-yt-bg:visible")),n.onDOMReady(),t(".tcb-video-background-el").each(((t,e)=>e.parentNode.classList.add("tcb-video-background-parent")))}static initOnClickEvent(){t(r.identifier).off("click.thumbnail").on("click.thumbnail",(e=>r.onClick(t(e.currentTarget),e)))}static onClick(t,e){const o=t.find(".video_overlay_image, .tcb-video-cover"),a=t.find(".tcb-video-float-container.tcb-float-closed");let i=t.find(".tcb-responsive-video").attr("data-provider"),n="";switch(i||(i=t.attr("data-type")),i){case"youtube":case"vimeo":n="&autoplay=1";break;case"wistia":n="&autoPlay=true"}if("vooplayer"===i&&t.find(".video-skin-player").css("z-index",""),TCB_Front.Hooks.doAction("tcb.video.before_autoplay",t,i),0===a.length&&["youtube","vimeo","wistia"].includes(i)){const e=t.find("iframe"),o=e.attr("src");0!==o.length&&(o.includes("?")||(n=`?${n.substring(1)}`),e.attr("src",o+n))}else r.maybePlayHtmlVideo(t,i,e);o.length>0&&o.fadeOut()}static maybePlayHtmlVideo(e,o,a){if((e.find(".tcb-video-cover:visible").length>0||!TCB_Front.browser.safari)&&(void 0===a||0===t(a.target).closest(".tcb-float-close-button").length)&&["custom","self","external"].includes(o)){const t=e.find("video").get(0);function o(e){setTimeout((function(){t[e]()}))}o(t.paused?"play":"pause")}}static maybeAutoplayVideo(e){let o;o=void 0===e?t(`${r.identifier}:not([data-type="dynamic"])`):e.find(`${r.identifier}:not([data-type="dynamic"])`),o.each(((e,o)=>{const a=t(o);0===a.parents(".tve_p_lb_content").length&&r.autoplayVideo(a)}))}static autoplayVideo(t){if(1!==parseInt(t.attr("data-autoplay")))return;const e=t.attr("data-type");let o,i="";switch(e){case"youtube":i="&autoplay=1&mute=1";break;case"vimeo":i="&autoplay=1&muted=1";break;case"wistia":i="&autoPlay=true&muted=true"}if(a.isCustomProvider(e)){const e=t.find("iframe");o=e.attr("src")||e.attr("data-src"),o&&0!==o.length&&-1===o.indexOf(i)&&(o.includes("?")?"?"===o.slice(-1)&&(i=i.substring(1)):i=`?${i.substring(1)}`,o+=i,e.attr("src",o),e.attr("data-src",o))}else if(a.isSelfHosted(e)){const e=t.find("video").get(0);e&&(e.muted=!0,e.paused&&e.play())}}static pauseVideos(t){t.find("video").each(((t,e)=>e.pause()))}}return window.TCB_Front.playBackgroundYoutube=i.playBackgroundYoutube,window.TCB_Front.refreshBackgroundYoutube=i.refreshBackgroundYoutube,window.TCB_Front.onVideoClick=r.onClick,window.TCB_Front.changeAutoplayVideo=r.maybeAutoplayVideo,window.TCB_Front.makeAutoplayVideo=r.autoplayVideo,window.TCB_Front.floating=o(33726),r}},60232:function(t){const e=["youtube","vimeo","wistia"],o=["self","external","custom"];t.exports=class{static isCustomProvider(t){return e.includes(t)}static isSelfHosted(t){return o.includes(t)}}},48042:function(t){(e=>{class o{static onDOMReady(){document.addEventListener("vooPlayerReady",o.playBackgroundVoo,!1),document.addEventListener("vooPlayerReady",o.changeVooOnPlay,!1),TCB_Front.Utils.isEditorPage()?e(".tcb-video-background-el iframe.tcb-voo-bg").each((function(){const t=TVE.inner_$(this),e=t.attr("src");t.attr("src",e)})):(e('.thrv_responsive_video[data-type="vooplayer"]').each(((t,o)=>{const a=e(o),i=a.find(".tcb-video-cover,.video_overlay_image"),n=a.find("iframe");i.length>0&&n.length>0&&(a.find(".video-skin-player").css("z-index","-1"),n.before(i.css("height",n.height())))})),TCB_Front.floating.init())}static playBackgroundVoo(){e("iframe.tcb-voo-bg").each(((t,e)=>{const o=()=>{vooAPI(e.dataset.playerid,"onEnded",null,o),vooAPI(e.dataset.playerid,"play"),vooAPI(e.dataset.playerid,"volume",[0])};o()}))}static changeVooOnPlay(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TCB_Front.$body;t&&t.jquery||(t=TCB_Front.$body),t.find("iframe.video-player-container").each(((t,o)=>{const a=()=>{e(o).css("pointer-events",""),e(o).parent().find("#theImg").remove()};o.src?a():vooAPI(o.dataset.playerid,"onPlay",null,(()=>{a()}))}))}static getAssetsToPreconnect(){return["https://s3.spotlightr.com"]}}t.exports=o,window.TCB_Front.changeVooOnPlay=o.changeVooOnPlay})(ThriveGlobal.$j)},20041:function(t){var e;e=ThriveGlobal.$j,t.exports=class t{static initHooks(){TCB_Front.Utils.isEditorPage()?(TVE.add_action("tcb.element.duplicate",((e,o)=>t.resetBackgroundVideo(o))),["sync","activate","create_display"].forEach((e=>TVE.add_action(`tve.conditional_display.${e}`,(e=>t.resetBackgroundVideo(e)))))):(TCB_Front.Hooks.addFilter("tcb.video.lazy_load.html",((t,e)=>(t.includes("&enablejsapi=1")||"youtube"!==e.attr("data-type")||(t+="&enablejsapi=1"),t))),TCB_Front.Hooks.addAction("tcb.video.before_autoplay",((t,o)=>{if("youtube"===o){const o=t.find("iframe")[0];e.each(o.attributes,((t,e)=>{let a=!1;e&&e.name.includes("data-gtm-yt-inspected")&&(o.removeAttribute(e.name),a=!0),a&&o.removeAttribute("id")}))}})))}static resetBackgroundVideo(e){const o=e.find(".tcb-yt-bg");if(o.length>0){const e=o.closest(".tcb-video-background-el"),a=TVE.Components.background.controls.video.video_settings.get_embed_code("background");e.html(a),t.playBackgroundYoutube(e.find(".tcb-yt-bg"))}}static playBackgroundYoutube(e){e.length&&(void 0!==window.YT&&window.YT.Player?t._playYTBackground(e):(window.onYouTubeIframeAPIReady=function(){t._playYTBackground(e)},t.fetchIframeAPI()))}static _playYTBackground(o){o.each((function(){let o,a=this.getAttribute("data-yt-id");o=34===a.length?new YT.Player(this.id,{playerVars:t.getDefaultPlayerParameters(a,!0),events:{onReady:function(t){t.target.mute()},onStateChange:function(t){t.target.mute()}}}):new YT.Player(this.id,{videoId:a,playerVars:t.getDefaultPlayerParameters(a),events:{onReady:function(t){t.target.mute(),t.target.playVideo()},onStateChange:function(t){t.target&&t.target.mute&&t.target.mute(),t.data===(YT.PlayerState.ENDED||0)&&t.target.playVideo()}}}),e(o.getIframe()).data("tcb-yt-player",o)}))}static refreshBackgroundYoutube(){window.YT&&window.YT.Player&&e("iframe.tcb-yt-bg").each(((o,a)=>{const i=e(a);i.data("tcb-yt-player")||t._playYTBackground(i)}))}static getAssetsToPreconnect(){return["https://www.youtube.com","https://www.google.com/","https://googleads.g.doubleclick.net/","https://static.doubleclick.net/","https://www.gstatic.com"]}static fetchIframeAPI(){e.ajax({url:"https://www.youtube.com/iframe_api",type:"get",crossDomain:!0,cache:!0,dataType:"script"})}static getDefaultPlayerParameters(t){const e={autoplay:1,cc_load_policy:0,controls:0,disablekb:1,fs:0,iv_load_policy:0,modestbranding:1,playsinline:1,rel:0,showinfo:0,playlist:t};return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e.loop=1,e.listType="playlist"),e}}}},e={};function o(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,o),n.exports}void 0===TCB_Front.js_modules.video&&TCB_Front.setModuleLoadedStatus("video",!1),(t=>{if(TCB_Front.isModuleLoaded("video"))return;const e=o(82215)(ThriveGlobal.$j,window);e.init(),window.TCB_Front.video=e,TCB_Front.setModuleLoadedStatus("video",!0)})(ThriveGlobal.$j)}();