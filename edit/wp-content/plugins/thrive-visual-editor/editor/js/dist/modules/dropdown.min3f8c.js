void 0===TCB_Front.js_modules.dropdown&&TCB_Front.setModuleLoadedStatus("dropdown",!1),((t,o)=>{if(TCB_Front.isModuleLoaded("dropdown"))return;const e=".tve_lg_dropdown, .tcb-form-dropdown, .tve-dynamic-dropdown";t(window).on("tcb_after_dom_ready",(()=>{if(!TCB_Front.Utils.isEditorPage()){const o=t(TCB_Front.Utils.isEditorPage()?"#tve_editor":"body");n.initEvents(o)}t(`${e}`).each((function(o,e){t(e).find("input").attr("readonly","")}))}));const n={initEvents(o){t(".tve-lg-dropdown-trigger").each((function(){t(this).attr("tabindex",-1).removeAttr("href").siblings("input").attr("style","position: absolute; opacity: 0;").attr("autocomplete","off")}));let n="",d=function(){n="",t(".tve-lg-dropdown-option.tve-state-hover,.tve-dynamic-dropdown-option.tve-state-hover").removeClass("tve-state-hover")};o.off("mousedown.dropdownclick").on("mousedown.dropdownclick",e,(function(o){if(o.stopPropagation(),o.preventDefault(),o.target.classList.contains("tve-lg-dropdown-list"))return!1;const n=t(this).closest(e);n.toggleClass("tve-state-expanded"),n.find("input").trigger("focus")})).off("blur.dropdownblur").on("blur.dropdownblur",".tve_lg_dropdown input, .tcb-form-dropdown input, .tve-dynamic-dropdown input",(function(t){t.stopPropagation(),t.preventDefault(),d(),this.closest(e).classList.remove("tve-state-expanded")})).off("keydown.dropdownkeypress").on("keydown.dropdownkeypress",".tve_lg_dropdown input, .tcb-form-dropdown input, .tve-dynamic-dropdown input",(function(o){const a=t(this).closest(e),i=a.find(".tve-state-active");switch(9!==o.keyCode&&(o.stopPropagation(),o.preventDefault()),o.keyCode){case 13:a.toggleClass("tve-state-expanded"),d();break;case 38:0===i.length?r(a.find(".tve-lg-dropdown-option,.tve-dynamic-dropdown-option").last(),a):i.prev().length&&r(i.prev(),a),d();break;case 40:0===i.length?r(a.find(".tve-lg-dropdown-option,.tve-dynamic-dropdown-option").first(),a):i.next().length&&r(i.next(),a),d();break;case 27:a.removeClass("tve-state-expanded"),d();break;case 8:d();break;default:n+=String.fromCharCode(o.keyCode).toLowerCase(),t(".tve-lg-dropdown-option.tve-state-hover,.tve-dynamic-dropdown-option.tve-state-hover").removeClass("tve-state-hover");const e=a.find(".tve-lg-dropdown-option,.tve-dynamic-dropdown-option").filter((function(t){return this.dataset.value.toLowerCase().startsWith(n)})).first();e.length&&(t(".tve-lg-dropdown-list").animate({scrollTop:e.prevAll().length*e.outerHeight()},500),e.addClass("tve-state-hover"))}})),o.off("mousedown.dropdownoptionclick").on("mousedown.dropdownoptionclick",".tve-lg-dropdown-option,.tve-dynamic-dropdown-option",(function(o){o.stopPropagation(),o.preventDefault();const n=t(this),d=n.closest(e);r(n,d),d.removeClass("tve-state-expanded")}));const r=function(t,o){o.find(".tve-lg-dropdown-trigger").find(".tve-disabled-text-inner").html(t.text()),o.find("input").attr("value",t.attr("data-value")).val(t.attr("data-value")),o.find(".tve-state-active").removeClass("tve-state-active"),t.addClass("tve-state-active"),o.trigger("tcb.dropdown_value_changed")}}};TCB_Front.setModuleLoadedStatus("dropdown",!0)})(ThriveGlobal.$j,TCB_Front);